<m-loadingSpinner
  *ngIf="loading$ | async; else loaded"
  [inProgress]="true"
></m-loadingSpinner>

<ng-template #loaded [ngSwitch]="activePanel$ | async">
  <m-emailConfirmation__codePanel
    *ngSwitchCase="'code'"
    (onSuccess)="(onSuccessIntent)"
  ></m-emailConfirmation__codePanel>
  <m-emailConfirmation__emailChangePanel
    *ngSwitchCase="'change-email'"
  ></m-emailConfirmation__emailChangePanel>
</ng-template>
