<!-- ---------------------------------------- -->
<!-- V2 -->
<!-- (Used in admin view of channel menu -->
<!-- ---------------------------------------- -->
<ng-template #v2Template>
  <m-dropdownMenu
    [menu]="nsfwSubmenu"
    [anchorPosition]="{ top: '0', right: 'calc(100% - 4px)' }"
  >
    <m-dropdownMenu__item hasSubmenu="true"
      ><span i18n="@@COMMON__NSFW">NSFW</span></m-dropdownMenu__item
    >
  </m-dropdownMenu>

  <ng-template #nsfwSubmenu>
    <ul>
      <m-dropdownMenu__item
        *ngFor="let reason of service.reasons"
        (click)="toggle(reason)"
        selectable="true"
        [selected]="reason.selected"
        [icon]="reason.locked ? 'locked' : null"
        >{{ reason.label }}
      </m-dropdownMenu__item>
    </ul>
  </ng-template>
</ng-template>
<!-- ---------------------------------------- -->
<!-- V1 -->
<!-- ---------------------------------------- -->
<m-dropdown
  *ngIf="!v2; else v2Template"
  class="m-nsfwSelector__dropdown"
  [expanded]="expanded"
  #dropdown
  data-cy="data-minds-nsfw-selector"
>
  <label
    class="m-nsfwSelector__label m-posterActionBar__IconAndLabel"
    [class.selected]="hasSelections()"
  >
    <m-tooltip>
      <i m-tooltip--anchor class="material-icons">explicit</i>
      <ng-container i18n="@@M__NSFW__FULL">Not Safe for Work</ng-container>
    </m-tooltip>

    <span i18n="@@M__NSFW">NSFW</span>
  </label>

  <ul class="m-dropdown__list">
    <li
      class="m-dropdownList__item"
      *ngFor="let reason of service.reasons"
      (click)="toggle(reason)"
    >
      <span>{{ reason.label }}</span>
      <div class="m-layout__spacer"></div>
      <m-tooltip icon="locked" [hidden]="!reason.locked">
        NSFW tags are locked for this channel
      </m-tooltip>
      <i class="material-icons selected" [hidden]="!reason.selected"
        >checkmark</i
      >
    </li>
  </ul>
</m-dropdown>
