<!-- Reuusable dropdown -->
<ng-template #optionsDropdownContainer>
  <m-blogEditor__dropdown></m-blogEditor__dropdown>
</ng-template>

<!-- Main Editor Container -->
<div class="m-blogEditor">
  <div
    *ngIf="service.banner$ | async"
    class="m-blogEditor__bannerImageContainer"
  >
    <div class="m-blogEditor__bannerToolbar">
      <i class="material-icons" (click)="service.banner$.next('')">delete</i>
      <ng-template [ngTemplateOutlet]="optionsDropdownContainer"></ng-template>
    </div>
    <img [src]="service.banner$ | async" />
  </div>
  <div class="m-blogEditor__container">
    <div class="m-blogEditor__bannerContainer">
      <div
        class="m-blogEditor__bannerUploader"
        *ngIf="!(service.banner$ | async)"
      >
        <span
          class="m-blogEditor__bannerText"
          i18n="@@BLOGS_EDITOR__UPLOAD_BANNER_IMAGE"
        >
          <button
            class="m-blogEditor__bannerUploadButton"
            (click)="bannerUpload.click()"
          >
            <i class="material-icons">publish</i>
            Upload Banner
          </button>
          <input
            hidden
            id="channel-v2-edit-avatar"
            type="file"
            accept="image/*"
            (change)="uploadBanner(bannerUpload)"
            #bannerUpload
          />
        </span>
        <span
          class="m-blogEditor__bannerSizeText"
          i18n="@@BLOGS_EDITOR__RECOMMENDED_BANNER_SIZE_INFO"
        >
          <em>
            Recommended minimum size 200px x 1125 (Ratio 16:9)
          </em>
        </span>
      </div>
      <div class="m-blogEditor__ellipsis" *ngIf="!(service.banner$ | async)">
        <ng-template
          [ngTemplateOutlet]="optionsDropdownContainer"
        ></ng-template>
      </div>
    </div>
    <div class="m-blogEditor__titleContainer">
      <input
        class="m-blogEditor__titleInput"
        type="text"
        placeholder="Title"
        i18n-placeholder="@@BLOG_EDITOR__TITLE"
        [ngModel]="service.title$ | async"
        (ngModelChange)="onTitleChange($event)"
      />
    </div>
    <div class="m-blogEditor__bodyContainer">
      <m-blog__editor
        (contentChanged)="onContentChange($event)"
        [content]="service.content$ | async"
      ></m-blog__editor>
    </div>
  </div>
  <m-blogEditor__bottomBar></m-blogEditor__bottomBar>
</div>
