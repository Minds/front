<!-- Owner block -->
<div
  class="m-blogCard__OwnerBlock"
  *ngIf="blog.ownerObj && blog.ownerObj.username"
>
  <div class="m-blogCardOwnerBlock__avatar">
    <m-hovercard [publisher]="blog.ownerObj" [offset]="[0, 15]">
      <a [routerLink]="['/', blog.ownerObj.username]">
        <img
          src="/icon/{{blog.ownerObj.guid}}/small/{{blog.ownerObj.icontime}}"
          class="m-border"
        />
      </a>
    </m-hovercard>
  </div>
  <div class="m-blogCardOwnerBlock__body">
    <a
      class="m-blogCardOwnerBlock__displayName"
      [routerLink]="['/', blog.ownerObj.username]"
    >
      <span [title]="blog.ownerObj.name"
        >{{ blog.ownerObj.name | truncate: 20 }}</span
      >
    </a>
    <a
      class="m-blogCardOwnerBlock__permalink"
      [routerLink]="blog.route ? [ '/' + blog.route ] : [ '/blog/view', blog.guid ]"
      >{{ blog.time_created * 1000 | date:'mediumDate' }}</a
    >
  </div>
</div>

<!-- Preview image / link -->
<a
  [routerLink]="blog.route ? [ '/' + blog.route ] : [ '/blog/view', blog.guid ]"
  class="mdl-card__title minds-blog-thumbnail m-blogCard__thumbnail"
  [ngStyle]="{background: 'url(' + blog.thumbnail_src + ') center center / cover'}"
  [ngClass]="{ 'm-mature-thumbnail': attachment.shouldBeBlurred(blog) }"
></a>

<!-- Title -->
<div class="m-blogCard__title">
  <a
    [routerLink]="blog.route ? [ '/' + blog.route ] : [ '/blog/view', blog.guid ]"
    >{{ blog.title | excerpt: 140 }}
  </a>
</div>
