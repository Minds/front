<div
  class="m-boostAudienceSelector__header"
  data-ref="boost-modal-v2-audience-selector-header"
>
  <h3
    class="m-boostAudienceSelector__title"
    i18n="@@BOOST_MODAL_V2_AUDIENCE__CUSTOMIZE_YOUR_AUDIENCE"
  >
    Customize your audience
  </h3>
  <span
    class="m-boostAudienceSelector__subtitle"
    i18n="@@BOOST_MODAL_V2_AUDIENCE__CUSTOMIZE_YOUR_AUDIENCE_DESCRIPTION"
    >Choose the best audience for this Boost.</span
  >
</div>
<div class="m-boostAudienceSelector__body">
  <h4
    class="m-boostAudienceSelector__bodyTitle"
    i18n="@@BOOST_MODAL_V2_AUDIENCE__AUDIENCE"
  >
    Audience
  </h4>
  <form [formGroup]="form">
    <div
      class="m-boostAudienceSelector__radioButtonRow"
      [ngClass]="{
        'm-boostAudienceSelector__radioButtonRow--selected':
          form.controls.audience.value === BoostAudience.SAFE
      }"
      (click)="selectRadioButton(BoostAudience.SAFE)"
    >
      <div class="m-boostAudienceSelector__radioButtonLabels">
        <label
          class="m-boostAudienceSelector__radioButtonLabel"
          for="safe"
          i18n="@@BOOST_MODAL_V2_AUDIENCE__SAFE"
          >Safe</label
        >
        <span
          class="m-boostAudienceSelector__radioButtonSubtext"
          id="safe-description"
          i18n="@@BOOST_MODAL_V2_AUDIENCE__SAFE_DESCRIPTION"
          >Content that is suitable if your kids or grandma saw it.</span
        >
      </div>
      <fieldset
        [disabled]="isSafeOptionDisabled$ | async"
        data-ref="boost-modal-v2-audience-selector-safe-field-set"
      >
        <input
          class="m-boostAudienceSelector__radioButton"
          type="radio"
          [value]="BoostAudience.SAFE"
          aria-describedby="safe-description"
          formControlName="audience"
          data-ref="boost-modal-v2-audience-selector-safe-radio-button"
        />
      </fieldset>
    </div>
    <div
      class="m-boostAudienceSelector__radioButtonRow"
      [ngClass]="{
        'm-boostAudienceSelector__radioButtonRow--selected':
          form.controls.audience.value === BoostAudience.CONTROVERSIAL
      }"
      (click)="selectRadioButton(BoostAudience.CONTROVERSIAL)"
    >
      <div class="m-boostAudienceSelector__radioButtonLabels">
        <label
          class="m-boostAudienceSelector__radioButtonLabel"
          for="controversial"
          i18n="@@BOOST_MODAL_V2_AUDIENCE__CONTROVERSIAL"
          >Controversial</label
        >
        <span
          class="m-boostAudienceSelector__radioButtonSubtext"
          id="controversial-description"
          i18n="@@BOOST_MODAL_V2_AUDIENCE__CONTROVERSIAL_DESCRIPTION"
          >Content that's political in nature or likely to be
          upsetting/controversial to a family-friendly audience.</span
        >
      </div>
      <fieldset>
        <input
          class="m-boostAudienceSelector__radioButton"
          type="radio"
          [value]="BoostAudience.CONTROVERSIAL"
          aria-describedby="controversial-description"
          formControlName="audience"
          data-ref="boost-modal-v2-audience-selector-controversial-radio-button"
        />
      </fieldset>
    </div>
    <div
      *ngIf="boostTargetExperiment.isActive()"
      class="m-boostAudienceSelector__targetPlatformContainer"
    >
      <div
        class="m-boostAudienceTargetPlatformContainer__header"
        (click)="targetPlatformContainerOpen = !targetPlatformContainerOpen"
        data-ref="boost-modal-v2-platform-selector-collapsible-container-toggle"
      >
        <span
          i18n="@@BOOST_MODAL_V2_AUDIENCE__TARGET_PLATFORM_LABEL__PLACEMENTS"
          >Placements</span
        >
        <m-icon
          [iconId]="targetPlatformContainerOpen ? 'expand_less' : 'expand_more'"
        ></m-icon>
      </div>
      <div class="m-boostAudienceTargetPlatformContainer__body">
        <ng-container *ngIf="!targetPlatformContainerOpen">
          <div
            class="m-boostAudienceTargetPlatformContainer__summaryWrapper"
            (click)="targetPlatformContainerOpen = !targetPlatformContainerOpen"
          >
            <span class="m-boostAudienceTargetPlatformContainer__label">{{
              service.targetPlatformSummaryText$ | async
            }}</span>
          </div>
        </ng-container>
        <ng-container *ngIf="targetPlatformContainerOpen">
          <div class="m-boostAudienceTargetPlatformContainer__checkboxRow">
            <span class="m-boostAudienceTargetPlatformContainer__label"
              >Web</span
            >
            <m-formInput__checkbox
              data-ref="boost-modal-v2-platform-selector-web"
              formControlName="targetPlatformWeb"
            ></m-formInput__checkbox>
          </div>
          <div class="m-boostAudienceTargetPlatformContainer__checkboxRow">
            <span class="m-boostAudienceTargetPlatformContainer__label"
              >Android</span
            >
            <m-formInput__checkbox
              data-ref="boost-modal-v2-platform-selector-android"
              formControlName="targetPlatformAndroid"
            ></m-formInput__checkbox>
          </div>
          <div class="m-boostAudienceTargetPlatformContainer__checkboxRow">
            <span class="m-boostAudienceTargetPlatformContainer__label"
              >iOS</span
            >
            <m-formInput__checkbox
              data-ref="boost-modal-v2-platform-selector-ios"
              formControlName="targetPlatformIos"
            ></m-formInput__checkbox>
          </div>
        </ng-container>
      </div>
    </div>
  </form>
</div>
