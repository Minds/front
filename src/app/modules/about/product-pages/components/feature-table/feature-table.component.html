<h1 class="m-productPageFeatTable__title">{{ title }}</h1>
<h3 class="m-productPageFeatTable__subtitle">{{ subtitle }}</h3>

<div class="m-productPageFeatTable__table">
  <!-- comp table plans -->
  <div class="m-productPageFeatTable__row">
    <div class="m-productPageFeatTable__column">
      <div class="m-productPageFeatTable__headerBoxSpacer"></div>
    </div>
    <ng-container *ngFor="let column of columns; let i = index">
      <div class="m-productPageFeatTable__column">
        <div
          *ngIf="column.attributes.featTableHeader as featTableHeader"
          class="m-productPageFeatTable__headerBox"
        >
          <h5 class="m-productPageFeatTable__headerBoxTitle">
            {{ featTableHeader.title }}
          </h5>
          <span class="m-productPageFeatTable__headerBoxAmount"
            ><strong>$0</strong> / month</span
          >
          <button
            class="m-productPage__cardButton"
            (click)="handleButtonClick(featTableHeader.button.action)"
          >
            <span>{{ featTableHeader.button.text }}</span>
          </button>
        </div>
      </div>
    </ng-container>
  </div>

  <!-- Sections -->
  <ng-container
    *ngFor="
      let section of columns[0].attributes.sections.data;
      let sectionId = index
    "
  >
    <!-- Section header -->
    <div class="m-productPageFeatTable__row">
      <div class="m-productPageFeatTable__column">
        <div
          class="m-productPageFeatTable__tableCell m-productPageFeatTable__headerCell m-productPageFeatTable__headerCell--roundedLeft m-productPageFeatTable__tableCell--leftAlign"
        >
          {{ section.attributes.headerText }}
        </div>
      </div>
    </div>
    <!-- Section content -->
    <ng-container
      *ngFor="let item of section.attributes.items.data; let itemId = index"
    >
      <div class="m-productPageFeatTable__row">
        <div class="m-productPageFeatTable__column">
          <div
            class="m-productPageFeatTable__tableCell m-productPageFeatTable__tableCell--leftAlign"
          >
            {{ item.attributes.productFeature.data.attributes.featureName }}
          </div>
        </div>
        <ng-container *ngFor="let column of columns">
          <div class="m-productPageFeatTable__column">
            <div
              *ngIf="
                column.attributes.sections.data[sectionId].attributes.items
                  .data[itemId].attributes.columnText
              "
              class="m-productPageFeatTable__tableCell"
            >
              {{ item.attributes.columnText }}
            </div>
            <div
              *ngIf="
                column.attributes.sections.data[sectionId].attributes.items
                  .data[itemId].attributes.checkbox
              "
              class="m-productPageFeatTable__tableCell"
            >
              <i class="material-icons">check_circle</i>
            </div>
          </div>
        </ng-container>
      </div>
    </ng-container>
  </ng-container>
</div>
