<div class="m-blockchain--tde-buy m-blockchain--marketing--modal">
  <h2>
    You're approved to purchase
    <ng-container *ngIf="pledged !== null">{{ pledged | number:'1.0-2' }} ETH</ng-container>
    <ng-template #notLoaded>&hellip;</ng-template>
    of Minds Tokens
  </h2>

  <p>
    Your Ethereum Address, <b>{{ address }}</b>, has been whitelisted to accept
    <b>
      <ng-container *ngIf="pledged !== null">{{ pledged | number:'1.0-2' }} ETH.</ng-container>
      <ng-template #notLoaded>&hellip;</ng-template>
    </b>
    You can either send the funds directly to <b>{{ tdeAddress }}</b> or click the button below.
  </p>

  <p *ngIf="error" class="m-blockchain--tde-buy--error" i18n="@@M__BLOCKCHAIN__TDE_BUY__ERROR_LABEL">
    Error: {{ error }}
  </p>

  <div class="m-blockchain--tde-buy--action">
    <button class="m-blockchain--tde-buy-button"
      [hidden]="inProgress || success || metamaskError"
      (click)="buy()"
      i18n="@@M__BLOCKCHAIN__TDE_BUY__BUY_ACTION"
    >Buy</button>

    <button class="m-blockchain--tde-buy-button" style="margin-left: 1em;"
      *ngIf="!inProgress && !success && !metamaskError"
      (click)="changeAmount()"
    >Increase Amount</button>

    <div class="mdl-spinner mdl-js-spinner is-active" [mdl] [hidden]="!inProgress"></div>

    <ng-container *ngIf="success">
      <i class="material-icons">check</i>
      <span i18n="@@M__BLOCKCHAIN__TDE_BUY__BOUGHT_NOTE">Bought</span>
    </ng-container>

    <div class="m-blockchain--tde-buy--error" *ngIf="metamaskError">
      <i class="material-icons">close</i>
      <span>{{ metamaskError }}</span>
    </div>
  </div>
</div>
