<m-loadingSpinner [inProgress]="inProgress"></m-loadingSpinner>

<div
  *ngIf="canRequestFromFaucet"
  (click)="onFaucetBannerClick()"
  class="m-skaleTransferBridge__faucetBanner"
>
  <ng-container *ngIf="!faucetInProgress">
    <ng-container i18n="@@SKALE_FAUCET__CLICK_TO_CLAIM_SKETH"
      >Your skETH balance is low. Click to request funds.</ng-container
    >
    <m-tooltip
      i18n="@@SKALE_FAUCET__NO_MONETARY_VALUE"
      icon="info"
      anchor="right"
    >
      skETH has NO MONETARY VALUE and never will. It serves as gas fees for your
      transactions on the SKALE network. It can be periodically claimed from our
      faucet to enable you to make transactions.
    </m-tooltip>
  </ng-container>
  <m-loadingSpinner [inProgress]="faucetInProgress"></m-loadingSpinner>
</div>

<div
  class="m-skaleTransferBridge__tokenBridge"
  [formGroup]="form"
  *ngIf="!inProgress"
>
  <div class="m-networkSwapBridge__amountContainer">
    <span class="m-networkSwapBridge__inputLabel">{{
      inputCurrencyLabel$ | async
    }}</span>
    <input
      type="number"
      class="m-input m-networkSwapBridge__input"
      placeholder="Enter amount"
      formControlName="inputAmount"
    />
    <div class="m-networkSwapBridge__inputBalances">
      <span
        >Approved {{ allowance | number }}
        {{ inputCurrency$ | async }}&nbsp;-&nbsp;</span
      >
      <span
        >Balance {{ (balance?.amount | number) ?? '0'}}
        {{ balance.currency }}</span
      >
    </div>
  </div>
  <div class="m-skaleTransferBridge__swapButtonContainer">
    <i
      class="material-icons m-skaleTransferBridge__swapButton"
      (click)="swapCurrencyFields()"
    >
      swap_vert
    </i>
  </div>
  <div class="m-networkSwapBridge__amountContainer">
    <span class="m-networkSwapBridge__inputLabel">{{
      outputCurrencyLabel$ | async
    }}</span>
    <input
      type="number"
      class="m-input m-networkSwapBridge__input"
      placeholder="Enter amount"
      formControlName="outputAmount"
    />
  </div>
  <div class="m-networkSwapBridge__buttonContainer">
    <m-button color="primary" (onAction)="approve()" [disabled]="amount === 0"
      >Approve</m-button
    >
    <m-button color="blue" (onAction)="transfer()" [disabled]="!form.valid"
      >Transfer</m-button
    >
  </div>
</div>
