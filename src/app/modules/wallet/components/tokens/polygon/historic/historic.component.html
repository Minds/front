<div class="m-polygon__transactions">
  <div
    class="m-polygon__loader"
    *ngIf="
      (polygonService.historyLoading$ | async) &&
      !(polygonService.history$ | async)?.length
    "
  >
    <div class="mdl-spinner mdl-js-spinner is-active" [mdl]></div>
  </div>
  <ng-container
    *ngIf="
      !(
        (polygonService.historyLoading$ | async) &&
        !(polygonService.history$ | async)?.length
      )
    "
  >
    <div
      class="m-polygon__date"
      *ngFor="let transaction of polygonService.history$ | async"
    >
      <div class="m-polygon__boxContainer m-grid">
        <div class="m-grid__column-2">
          <div class="m-polygon__statusCircle">
            <m-icon
              *ngIf="isPendingAction(transaction)"
              iconId="action_pending"
              from="custom"
              class="m-polygon__pending"
            ></m-icon>
            <m-icon
              *ngIf="isSuccess(transaction)"
              iconId="check"
              class="m-polygon__success"
            ></m-icon>
          </div>
        </div>
        <div class="m-grid__column-5">
          <div class="m-polygon__tx-title">
            <span class="m-polygon__boxTitleType">{{
              getTitle(transaction.type) | titlecase
            }}</span>
            <span class="m-polygon__status">{{
              getStatus(transaction.status)
            }}</span>
            <span
              *ngIf="transaction.type === 0"
              class="m-polygon__tx-title-description"
            >
              From
              <img
                class="m-polygon__title-icon"
                src="assets/ext/ethereum.png"
                alt="eth"
              />
              Mainnet to
              <img
                class="m-polygon__title-icon"
                src="assets/ext/polygon.png"
                alt="polygon"
              />
              Polygon
            </span>
            <span
              *ngIf="transaction.type === 1"
              class="m-polygon__tx-title-description"
            >
              From
              <img
                class="m-polygon__title-icon"
                src="assets/ext/polygon.png"
                alt="polygon"
              />
              Polygon to
              <img
                class="m-polygon__title-icon"
                src="assets/ext/ethereum.png"
                alt="eth"
              />
              Mainnet</span
            >
          </div>
        </div>
        <div class="m-grid__column-4">
          <div class="m-grid__row-hash">
            <img
              class="m-polygon__minds-logo"
              src="https://cdn-assets.minds.com/front/dist/en/assets/logos/bulb.svg"
              alt="bulb"
            />
            <span class="m-polygon__price">
              {{ formatAmount(transaction.amount) }} MINDS</span
            >
          </div>
        </div>
        <div class="m-grid__column-1">
          <div class="m-grid__row-last">
            <a
              *ngIf="getExplorerUrl(transaction)"
              [href]="getExplorerUrl(transaction)"
              target="_blank"
            >
              <img
                src="assets/icons/play.svg"
                alt="view"
                class="m-polygon__view-button"
              />
            </a>

            <img
              *ngIf="needsAction(transaction)"
              (click)="exit(transaction)"
              src="assets/icons/arrow-drop-down-white.svg"
              alt="arrow"
              class="m-polygon__next-button"
            />
          </div>
        </div>
      </div>
    </div>
  </ng-container>
</div>
