<div class="mf-jumpAnchor" #topAnchor></div>

<m-loadingSpinner [inProgress]="loading"></m-loadingSpinner>

<m-marketing *ngIf="!loading" class="m-nodes__marketing">
  <div class="m-marketing__main m-marketing__section--style-2">
    <div class="m-grid m-marketing__wrapper">
      <div class="m-grid__column-7 m-grid__column-12--mobile m-marketing__body">
        <h1 *ngIf="data?.hero?.h1">{{ data.hero.h1 }}</h1>
        <markdown
          ngPreserveWhitespaces
          *ngIf="data?.hero?.body"
          class="m-marketing__description"
          >{{ data.hero.body }}</markdown
        >

        <div>
          <m-button
            (onAction)="action(); $event.preventDefault()"
            i18n="@@MARKETING_NODES__CONTACT_US_FOR_DETAILS"
            color="blue"
          >
            Contact us for details
          </m-button>
        </div>
      </div>

      <div
        class="m-grid__column-5 m-grid__column-12--mobile m-marketing__image"
      >
        <span
          [ngClass]="{
            'm-marketing__imageSpan--noBackgroundEffects': !data.hero
              ?.showBackgroundEffects
          }"
        >
          <img
            *ngIf="data?.hero?.heroBackground?.data?.attributes?.url"
            [src]="strapiUrl + data.hero.heroBackground.data.attributes.url"
            class="m-marketing__image--tall"
            alt="Minds Nodes"
          />
        </span>
      </div>
    </div>
  </div>

  <ng-container slot="2">
    <m-marketing__asFeaturedIn></m-marketing__asFeaturedIn>

    <div *ngFor="let sectionData of data?.section">
      <m-marketing__generalSection
        [leftAligned]="sectionData.leftAligned"
        [title]="sectionData.title"
        [body]="sectionData.body"
        [imageUrl]="
          sectionData.image?.data?.attributes?.url
            ? strapiUrl + sectionData.image?.data?.attributes?.url
            : null
        "
        [imageOverlayUrl]="
          sectionData.imageOverlay?.data?.attributes?.url
            ? strapiUrl + sectionData.imageOverlay?.data?.attributes?.url
            : null
        "
        [actionButtons]="sectionData.actionButtons"
        [showBodyBackground]="sectionData.showBodyBackground"
        [showBackgroundEffects]="sectionData.showBackgroundEffects"
      ></m-marketing__generalSection>
    </div>

    <!-- Final section -->

    <div class="m-marketing__section m-marketing__section--tail">
      <m-marketing__otherFeaturesSection
        *ngIf="data?.otherFeaturesSection"
        [title]="data.otherFeaturesSection?.title ?? null"
        [column1Title]="data.otherFeaturesSection?.column1Title"
        [column1Body]="data.otherFeaturesSection?.column1Body"
        [column2Title]="data.otherFeaturesSection?.column2Title"
        [column2Body]="data.otherFeaturesSection?.column2Body"
        [column3Title]="data.otherFeaturesSection?.column3Title"
        [column3Body]="data.otherFeaturesSection?.column3Body"
      ></m-marketing__otherFeaturesSection>

      <div class="m-grid m-marketing__wrapper">
        <div
          class="m-grid__column-12 m-grid__column-12--mobile m-marketing__body m-marketing__body--extra"
        >
          <m-button
            color="blue"
            (onAction)="scrollToTop()"
            i18n="@@MARKETING_NODES__CONTACT_FOR_DETAILS"
          >
            Contact us for details
          </m-button>
        </div>
      </div>
    </div>
  </ng-container>
</m-marketing>
