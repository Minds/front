<div
  class="m-feedTypePopper"
  [popper]="popper"
  [popperModifiers]="popperModifiers"
  (popperOnShown)="shown = true"
  (popperOnHidden)="shown = false"
  [popperShowOnStart]="false"
  [popperTrigger]="'click'"
  [popperHideOnClickOutside]="true"
  [popperHideOnScroll]="true"
  [popperPlacement]="'bottom'"
>
  <m-tooltip
    class="m-feedTypePopper__tooltip"
    [anchor]="'top'"
    [enabled]="false"
    [hidden]="!(shouldShowTooltip$ | async)"
    [showArrow]="true"
  >
    <a
      m-tooltip--anchor
      class="m-feedTypePopper__iconLink"
      [class.m-feedTypePopper__iconLink--active]="type === 'top'"
      (click)="iconClick($event)"
      data-ref="feed-type-popper-toggle"
    >
      <i class="material-icons">tune</i>
    </a>
    <ng-container i18n="@@MINDS__NEWSFEED__TOP_POSTS__PROMPT"
      >Prioritize top posts in your feed</ng-container
    >
  </m-tooltip>
  <popper-content #popper>
    <div class="m-feedTypePopper__container">
      <a
        routerLink="../top"
        class="m-feedTypePopper__item"
        (click)="onChangeType('top')"
        data-ref="feed-type-popper-top"
      >
        <div class="m-feedTypePopper__desc__container">
          <p
            i18n="@@MINDS__NEWSFEED__TOP_POSTS__TITLE"
            class="m-feedTypePopper__title"
          >
            Top posts
          </p>
          <span
            i18n="@@MINDS__NEWSFEED__TOP_POSTS__DESC"
            class="m-feedTypePopper__desc"
            >Show only the most engaged with posts within your newsfeed</span
          >
        </div>
        <i
          class="m-feedTypePopper__icon material-icons"
          [ngStyle]="{ opacity: type === 'top' ? 1 : 0 }"
          >check</i
        >
      </a>
      <a
        routerLink="../latest"
        class="m-feedTypePopper__item"
        (click)="onChangeType('latest')"
        data-ref="feed-type-popper-latest"
      >
        <div>
          <p
            i18n="@@MINDS__NEWSFEED__LATEST_POSTS__TITLE"
            class="m-feedTypePopper__title"
          >
            Latest posts
          </p>
          <span
            i18n="@@MINDS__NEWSFEED__LATEST_POSTS__DESC"
            class="m-feedTypePopper__desc"
            >Show posts as they happen</span
          >
        </div>
        <i
          class="m-feedTypePopper__icon material-icons"
          [ngStyle]="{ opacity: type === 'latest' ? 1 : 0 }"
          >check</i
        >
      </a>
    </div>
  </popper-content>
</div>
