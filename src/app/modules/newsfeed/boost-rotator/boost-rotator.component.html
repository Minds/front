<ng-container [m-clientMeta]="{ medium: 'boost-rotator' }">
  <div
    *ngIf="!disabled"
    #rotatorEl
    class="m-newsfeed__boostRotator"
    [style.min-height]="height"
    [style.max-height]="activityV2Feature ? height : 'none'"
    [hidden]="!boosts.length"
  >
    <div
      *ngIf="boosts.length > 0 && !activityV2Feature"
      class="m-carousel__overflowScrollButton--left"
      (click)="prev()"
    >
      <i class="material-icons">chevron_left</i>
    </div>
    <ng-container *ngFor="let entity of boosts; let i = index">
      <!-- NOTE: nextBoost() and previousBoost() are only used by activityV2 -->
      <m-activity
        *ngIf="shouldRender(i)"
        @fastFade
        [entity]="entity"
        [displayOptions]="{
          showBoostRotatorButtons: true,
          showOnlyCommentsInput: false,
          showComments: false,
          fixedHeight: true,
          fixedHeightContainer: true,
          isFeed: true
        }"
        [attr.data-minds-activity-guid]="entity.guid"
        [slot]="i + 1"
        [canRecordAnalytics]="false"
        [style.visibility]="i === currentPosition ? 'visible' : 'hidden'"
        (nextBoost)="next()"
        (previousBoost)="prev()"
      >
      </m-activity>
    </ng-container>
    <div
      *ngIf="boosts.length > 0 && !activityV2Feature"
      class="m-carousel__overflowScrollButton--right"
      (click)="next()"
    >
      <i class="material-icons">chevron_right</i>
    </div>
  </div>
</ng-container>
