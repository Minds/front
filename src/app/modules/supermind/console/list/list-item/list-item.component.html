<ng-container *ngIf="supermind && supermind.entity">
  <div class="m-supermind__listItem__topBar">
    <m-chipBadge>{{ amountBadgeText }}</m-chipBadge>
    <span class="m-supermindListItem__expirationTimeLabel">
      <ng-container *ngIf="timeTillExpiration; else expiredText">
        <span i18n="@@SUPERMIND_CONSOLE_LIST_ITEM__EXPIRES">Expires: </span>
        <span class="m-supermindListItem__expirationTime">{{
          timeTillExpiration
        }}</span>
      </ng-container>
      <ng-template #expiredText i18n="@@SUPERMIND_CONSOLE_LIST_ITEM__EXPIRED"
        >Expired</ng-template
      >
    </span>
  </div>
  <m-activity
    [entity]="supermind.entity"
    [canDelete]="false"
    [displayOptions]="displayOptions"
    [autoplayVideo]="false"
    [canRecordAnalytics]="false"
  ></m-activity>
  <div class="m-supermind__listItem__bottomBar">
    <div class="m-supermindListItem__offerInformation">
      <span
        *ngIf="context === 'outbox' && supermind.receiver_entity"
        class="m-supermindListItem__targetInformation"
      >
        <span i18n="@@SUPERMIND_CONSOLE_LIST_ITEM__OFFER_TARGET">Target: </span>
        <a [href]="'/' + supermind.receiver_entity.username" target="_blank"
          >@{{ supermind.receiver_entity.username }}</a
        >
        <span class="m-supermindListItem__targetInformation--seperator"
          >&ensp;Â·&ensp;</span
        >
      </span>
      <span class="m-supermindListItem__requirementsLabel">
        <span i18n="@@SUPERMIND_CONSOLE_LIST_ITEM__REQUIREMENTS"
          >Requirements:
        </span>
        <span class="m-supermindListItem__requirementsText">{{
          requirementsText
        }}</span>
      </span>
    </div>

    <!-- 
      Remove shouldShowInboxActionButtons() on the div below and
      Add `*ngIf="shouldShowInboxActionButtons(); else outboxButton"` to 
      the ng-container below, when we enabled revocation.
    -->
    <div
      class="m-supermindListItem__actionButtons"
      *ngIf="supermind.status === 1 && shouldShowInboxActionButtons()"
    >
      <ng-container>
        <m-button
          class="m-supermindListItem__buttonSecondary"
          size="small"
          (onAction)="onDecline($event)"
          [saving]="inProgress$$ | async"
          ><ng-container i18n="@@SUPERMIND_CONSOLE_LIST_ITEM__DECLINE_OPTION"
            >Decline</ng-container
          ></m-button
        >
        <m-button
          class="m-supermindListItem__buttonPrimary"
          size="small"
          color="blue"
          (onAction)="onAccept($event)"
          [saving]="inProgress$$ | async"
          ><ng-container
            i18n="@@SUPERMIND_CONSOLE_LIST_ITEM__ACCEPT_OFFER_OPTION"
            >Accept Offer</ng-container
          ></m-button
        >
      </ng-container>
      <ng-template #outboxButton>
        <m-button
          class="m-supermindListItem__buttonSecondary--fullWidth"
          size="small"
          (onAction)="onCancel($event)"
          [saving]="inProgress$$ | async"
          ><ng-container
            i18n="@@SUPERMIND_CONSOLE_LIST_ITEM__CANCEL_OFFER_OPTION"
            >Cancel Offer</ng-container
          ></m-button
        >
      </ng-template>
    </div>
  </div>
</ng-container>
