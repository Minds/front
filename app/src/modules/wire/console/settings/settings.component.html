<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active" [hidden]="!exclusive.saving"></div>

<!-- Exclusive content -->
<div class="mdl-color--white mdl-color-text--blue-grey-500 m-merchant-plans-exclusive">
  <div class="mdl-grid m-merchant-plans-exclusive--inputs">
    <div class="mdl-cell mdl-cell--12-col">
      <p>The below description and preview image is what your subscribers will see on your exclusive posts until they become a supporter.</p>
    </div>

    <div class="mdl-cell mdl-cell--12-col m-merchant-plans-exclusive--intro">
      <label i18n>Description</label>
      <input type="text" autofocus placeholder="eg. Support me to see my exclusive content and join me for a monthly video chat" [(ngModel)]="exclusive.intro" (keyup)="exclusive.saved = false; updatePreviewEntity()"/>
    </div>

    <div class="mdl-cell mdl-cell--12-col m-merchant-plans-exclusive--background">
      <label i18n>Background</label>
      <input type="file" #backgroundFile name="preview" (change)="updatePreview(backgroundFile)" accept="image/*" />
    </div>

    <div class="mdl-cell mdl-cell--12-col m-merchant-plans-exclusive--preview">
      <label i18n>Preview</label>

      <m-wire--lock-screen *ngIf="previewEntity"
        [preview]="true"
        [entity]="previewEntity"
        class="mdl-shadow--4dp"
      ></m-wire--lock-screen>
    </div>

    <button class="mdl-button mdl-button--colored" (click)="save(backgroundFile)" [disabled]="exclusive.saving || exclusive.saved">
      <ng-container *ngIf="!exclusive.saving && !exclusive.saved">Save</ng-container>
      <ng-container *ngIf="exclusive.saving">Savingâ€¦</ng-container>
      <ng-container *ngIf="exclusive.saved">Saved</ng-container>
    </button>
  </div>
</div>
